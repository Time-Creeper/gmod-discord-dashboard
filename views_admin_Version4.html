<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <script>
        async function loadUsers() {
            const res = await fetch('/api/admin_list');
            const data = await res.json();
            let html = '<table border="1"><tr><th>Discord ID</th><th>SteamID</th><th>Last Login</th><th>Status</th></tr>';
            data.forEach(u => {
                html += `<tr><td>${u.discord_id}</td><td>${u.steamid}</td><td>${u.last_login ? new Date(u.last_login * 1000).toLocaleString() : 'Never'}</td><td>${u.status}</td></tr>`;
            });
            html += '</table>';
            document.getElementById('userlist').innerHTML = html;
        }
        window.onload = loadUsers;
    </script>
</head>
<body>
    <h1>Admin Dashboard</h1>
    <div id="userlist"></div>
    <a href="/logout">Logout</a>
</body>
</html>